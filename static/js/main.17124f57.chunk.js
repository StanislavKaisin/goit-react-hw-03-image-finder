(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={gallery:"Gallery_gallery__2fHk2",button:"Gallery_button__3NVJ0"}},11:function(e,t,a){e.exports={spinnerContainer:"Spinner_spinnerContainer__1nsGX",ldsFacebook:"Spinner_ldsFacebook__3avT_"}},2:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__1ClvC",stats:"PhotoCard_stats__dn9Dx",statsItem:"PhotoCard_statsItem__gIBjC",fullscreenButton:"PhotoCard_fullscreenButton__gcgby",galleryItem:"PhotoCard_galleryItem__1x5Z2"}},24:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__wYgEs"}},26:function(e,t,a){e.exports={app:"ImageFinder_app__1TYU2"}},27:function(e,t,a){e.exports=a(53)},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),l=a(3),s=a(13),i=a(4),u=a(5),m=a(7),d=a(6),h=a(8),p=a(24),f=a.n(p),g=function(e){var t=e.search,a=e.onChange,n=e.onSubmit;return r.a.createElement("form",{className:f.a.searchForm,onSubmit:n},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a,name:"inputWord"}))},b=a(2),v=a.n(b),E=function(e){var t=e.photo,a=t.webformatURL,n=t.largeImageURL,o=t.likes,c=t.views,l=t.comments,s=t.downloads,i=e.openModal;return r.a.createElement("div",{className:v.a.photoCard},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",{className:v.a.stats},r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),"1108",o),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),"320321",c),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),"129",l),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),"176019",s)),r.a.createElement("button",{type:"button",className:v.a.fullscreenButton,onClick:function(){return i(n)}},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},_=a(9),y=a.n(_),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a.modalWindowRef=Object(n.createRef)(),a.imgRef=Object(n.createRef)(),a.handleBackdropClick=function(e){var t=a.props.onClose;a.imgRef.current.contains(e.target)||a.modalWindowRef.current.contains(e.target)&&t()},a.handleWindowKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.componentDidMount=function(){window.addEventListener("click",a.handleBackdropClick),window.addEventListener("keydown",a.handleWindowKeyPress)},a.componentWillUnmount=function(){window.removeEventListener("click",a.handleBackdropClick),window.removeEventListener("keyPress",a.handleWindowKeyPress)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.largeImageURL;return r.a.createElement("div",{className:y.a.overlay,onClick:this.handleBackDropClick,onKeyPress:this.handleBackDropClick,ref:this.modalWindowRef},r.a.createElement("div",{className:y.a.modal},r.a.createElement("img",{src:e,alt:"",className:y.a.modal,ref:this.imgRef})))}}]),t}(n.Component),C=a(10),N=a.n(C),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1,largeImageURL:""},a.handleCloseModal=function(){a.setState({isModalOpen:!1})},a.handleOpenModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isModalOpen,n=t.largeImageURL,o=this.props,c=o.searchResults,l=o.onLoadMore,s=o.totalPages,i=o.pageNumber,u=o.wordForSearch;return r.a.createElement("div",null,r.a.createElement("ul",{className:N.a.gallery},c.length?c.map(function(t){return r.a.createElement(E,{key:t.id,photo:t,openModal:e.handleOpenModal,isModalOpen:a})}):u&&r.a.createElement("h2",null,"No matching results")),c.length&&i<s?r.a.createElement("button",{type:"button",onClick:l,className:N.a.button},"Load more"):null,a&&r.a.createElement(w,{onClose:this.handleCloseModal,largeImageURL:n}))}}]),t}(n.Component);O.defaultProps={searchResults:[]};var S=a(11),k=a.n(S),R=function(){return r.a.createElement("div",{className:k.a.spinnerContainer},r.a.createElement("div",{className:k.a.ldsFacebook},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},j=function(e){var t=e.text;return r.a.createElement("div",null,r.a.createElement("h2",null,"Error: ",t))},L=a(25),P=a.n(L),M=a(12),F=a.n(M),I=function(e,t){var a="".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("12823560-a45133ed02e1239de959cde23");return P.a.get(a).then(function(e){return e.data})};I.propTypes={keyWord:F.a.string,selectedCategory:F.a.string};var W=a(26),x=a.n(W),B={wordForSearch:"",inputWord:"",pageNumber:1,totalPages:1,error:null,searchResults:[],isLoading:!1},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=Object(s.a)({},B),a.endOfPage=Object(n.createRef)(),a.handleChange=function(e){var t=e.target.value;a.setState({inputWord:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.inputWord,n=t;a.setState(function(e){return""===e.wordForSearch&&!0,e.wordForSearch!==t?Object(s.a)({},B,{isLoading:!0,error:null,wordForSearch:n,inputWord:n}):{isLoading:!0,error:null,wordForSearch:n}},function(){I(t,a.state.pageNumber).then(function(e){var t=Math.ceil(e.totalHits/12);return a.setState(function(a){return{searchResults:[].concat(Object(l.a)(a.searchResults),Object(l.a)(e.hits)),totalPages:t,pageNumber:a.pageNumber+1>=t?t:a.pageNumber+1}})}).catch(function(e){return a.setState({error:e,searchResults:[]})}).finally(function(){return a.setState({isLoading:!1})})})},a.handleLoadMore=function(e){e.preventDefault();var t=a.state,n=t.wordForSearch,r=t.totalPages;a.setState(function(e){return{isLoading:!0,error:null,pageNumber:e.pageNumber+1>=r?r:e.pageNumber+1}},function(){I(n,a.state.pageNumber).then(function(e){return a.setState(function(t){return{searchResults:[].concat(Object(l.a)(t.searchResults),Object(l.a)(e.hits))}})}).catch(function(e){return a.setState({error:e,searchResults:[]})}).finally(function(){a.setState({isLoading:!1})})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.wordForSearch,n=t.pageNumber;I(a,n).then(function(t){return e.setState(function(e){var a=Math.ceil(t.totalHits/12);return{searchResults:[].concat(Object(l.a)(e.searchResults),Object(l.a)(t.hits)),totalPages:a}})}).catch(function(t){return e.setState({error:t,searchResults:[]})}).finally(function(){e.setState({isLoading:!1})})}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.wordForSearch,a=e.pageNumber;(t||1!==a)&&this.endOfPage.current.scrollIntoView({block:"end"})}},{key:"render",value:function(){var e=this.state,t=e.inputWord,a=e.searchResults,n=e.isLoading,o=e.error,c=e.totalPages,l=e.pageNumber,s=e.wordForSearch;return r.a.createElement("div",{className:x.a.app},r.a.createElement(g,{search:t,onChange:this.handleChange,onSubmit:this.handleSubmit}),o&&r.a.createElement(j,{text:o.message}),n?r.a.createElement(R,null):r.a.createElement(O,{searchResults:a,onLoadMore:this.handleLoadMore,totalPages:c,pageNumber:l,inputWord:t,wordForSearch:s}),r.a.createElement("div",{ref:this.endOfPage}))}}]),t}(n.Component),D=(a(52),function(){return r.a.createElement("div",null,r.a.createElement(U,null))});c.a.render(r.a.createElement(D,null),document.getElementById("root"))},9:function(e,t,a){e.exports={overlay:"Modal_overlay__2yL7P",modal:"Modal_modal__3Rfl7"}}},[[27,1,2]]]);
//# sourceMappingURL=main.17124f57.chunk.js.map