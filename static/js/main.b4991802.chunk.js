(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={gallery:"Gallery_gallery__2fHk2",button:"Gallery_button__3NVJ0"}},2:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__1ClvC",stats:"PhotoCard_stats__dn9Dx",statsItem:"PhotoCard_statsItem__gIBjC",fullscreenButton:"PhotoCard_fullscreenButton__gcgby",galleryItem:"PhotoCard_galleryItem__1x5Z2"}},23:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__wYgEs"}},25:function(e,t,a){e.exports={app:"ImageFinder_app__1TYU2"}},26:function(e,t,a){e.exports=a(52)},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),s=a(3),l=a(12),i=a(4),u=a(5),m=a(7),d=a(6),h=a(8),p=a(23),f=a.n(p),g=function(e){var t=e.search,a=e.onChange,n=e.onSubmit;return r.a.createElement("form",{className:f.a.searchForm,onSubmit:n},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a,name:"inputWord"}))},b=a(2),v=a.n(b),y=function(e){var t=e.photo,a=t.webformatURL,n=t.largeImageURL,o=t.likes,c=t.views,s=t.comments,l=t.downloads,i=e.openModal;return r.a.createElement("div",{className:v.a.photoCard},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",{className:v.a.stats},r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),"1108",o),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),"320321",c),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),"129",s),r.a.createElement("p",{className:v.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),"176019",l)),r.a.createElement("button",{type:"button",className:v.a.fullscreenButton,onClick:function(){return i(n)}},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},E=a(9),w=a.n(E),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a.modalWindowRef=Object(n.createRef)(),a.imgRef=Object(n.createRef)(),a.handleBackdropClick=function(e){var t=a.props.onClose;a.imgRef.current.contains(e.target)||a.modalWindowRef.current.contains(e.target)&&t()},a.handleWindowKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.componentDidMount=function(){window.addEventListener("click",a.handleBackdropClick),window.addEventListener("keydown",a.handleWindowKeyPress)},a.componentWillUnmount=function(){window.removeEventListener("click",a.handleBackdropClick),window.removeEventListener("keyPress",a.handleWindowKeyPress)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.largeImageURL;return r.a.createElement("div",{className:w.a.overlay,onClick:this.handleBackDropClick,onKeyPress:this.handleBackDropClick,ref:this.modalWindowRef},r.a.createElement("div",{className:w.a.modal},r.a.createElement("img",{src:e,alt:"",className:w.a.modal,ref:this.imgRef})))}}]),t}(n.Component),N=a(10),O=a.n(N),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1,largeImageURL:""},a.handleCloseModal=function(){a.setState({isModalOpen:!1})},a.handleOpenModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isModalOpen,n=t.largeImageURL,o=this.props,c=o.searchResults,s=o.onLoadMore,l=o.totalPages,i=o.pageNumber,u=o.wordForSearch;return r.a.createElement("div",null,r.a.createElement("ul",{className:O.a.gallery},c.length?c.map(function(t){return r.a.createElement(y,{key:t.id,photo:t,openModal:e.handleOpenModal,isModalOpen:a})}):u&&r.a.createElement("h2",null,"No matching results")),c.length&&i<l?r.a.createElement("button",{type:"button",onClick:s,className:O.a.button},"Load more"):null,a&&r.a.createElement(_,{onClose:this.handleCloseModal,largeImageURL:n}))}}]),t}(n.Component);C.defaultProps={searchResults:[]};var R=function(e){var t=e.text;return r.a.createElement("div",null,r.a.createElement("h2",null,"Error: ",t))},S=a(24),k=a.n(S),j=a(11),L=a.n(j),P=function(e,t){var a="".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("12823560-a45133ed02e1239de959cde23");return k.a.get(a).then(function(e){return e.data})};P.propTypes={keyWord:L.a.string,selectedCategory:L.a.string};var M=a(25),I=a.n(M),F={wordForSearch:"",inputWord:"",pageNumber:1,totalPages:1,error:null,searchResults:[],isLoading:!1},W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=Object(l.a)({},F),a.endOfPage=Object(n.createRef)(),a.handleChange=function(e){var t=e.target.value;a.setState({inputWord:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.inputWord,n=t;a.setState(function(e){return""===e.wordForSearch&&!0,e.wordForSearch!==t?Object(l.a)({},F,{isLoading:!0,error:null,wordForSearch:n,inputWord:n}):{isLoading:!0,pageNumber:e.pageNumber+1,error:null,wordForSearch:n}},function(){P(t,a.state.pageNumber).then(function(e){var t=Math.ceil(e.totalHits/12);return a.setState(function(a){return{searchResults:[].concat(Object(s.a)(a.searchResults),Object(s.a)(e.hits)),totalPages:t,pageNumber:a.pageNumber+1>=t?t:a.pageNumber+1}})}).catch(function(e){return a.setState({error:e,searchResults:[]})}).finally(function(){return a.setState({isLoading:!1})})})},a.handleLoadMore=function(e){e.preventDefault();var t=a.state,n=t.wordForSearch,r=t.totalPages;a.setState(function(e){return{isLoading:!0,error:null,pageNumber:e.pageNumber+1>=r?r:e.pageNumber+1}},function(){P(n,a.state.pageNumber).then(function(e){return a.setState(function(t){return{searchResults:[].concat(Object(s.a)(t.searchResults),Object(s.a)(e.hits))}})}).catch(function(e){return a.setState({error:e,searchResults:[]})}).finally(function(){a.setState({isLoading:!1})})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.wordForSearch,n=t.pageNumber;P(a,n).then(function(t){return e.setState(function(e){var a=Math.ceil(t.totalHits/12);return{searchResults:[].concat(Object(s.a)(e.searchResults),Object(s.a)(t.hits)),totalPages:a}})}).catch(function(t){return e.setState({error:t,searchResults:[]})}).finally(function(){e.setState({isLoading:!1}),e.endOfPage.current.scrollIntoView({block:"end",behavior:"smooth"})})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.inputWord,a=e.searchResults,n=e.isLoading,o=e.error,c=e.totalPages,s=e.pageNumber,l=e.wordForSearch;return r.a.createElement("div",{className:I.a.app},r.a.createElement(g,{search:t,onChange:this.handleChange,onSubmit:this.handleSubmit}),o&&r.a.createElement(R,{text:o.message}),r.a.createElement(C,{searchResults:a,isLoading:n,onLoadMore:this.handleLoadMore,totalPages:c,pageNumber:s,inputWord:t,wordForSearch:l}),r.a.createElement("div",{ref:this.endOfPage}))}}]),t}(n.Component),x=(a(51),function(){return r.a.createElement("div",null,r.a.createElement(W,null))});c.a.render(r.a.createElement(x,null),document.getElementById("root"))},9:function(e,t,a){e.exports={overlay:"Modal_overlay__2yL7P",modal:"Modal_modal__3Rfl7"}}},[[26,1,2]]]);
//# sourceMappingURL=main.b4991802.chunk.js.map