{"version":3,"sources":["Components/image-finder/Gallery/Gallery.module.css","Components/image-finder/PhotoCard/PhotoCard.module.css","Components/image-finder/SearchForm/SearchForm.module.css","Components/image-finder/ImageFinder/ImageFinder.module.css","Components/image-finder/SearchForm/SearchForm.jsx","Components/image-finder/PhotoCard/PhotoCard.jsx","Components/image-finder/Modal/Modal.jsx","Components/image-finder/Gallery/Gallery.jsx","Components/image-finder/ErrorNotification/ErrorNotification.jsx","Services/apiImages.jsx","Components/image-finder/ImageFinder/ImageFinder.jsx","Components/App/App.jsx","index.js","Components/image-finder/Modal/Modal.module.css"],"names":["module","exports","gallery","button","photoCard","stats","statsItem","fullscreenButton","galleryItem","searchForm","app","SearchForm","_ref","search","onChange","onSubmit","react_default","a","createElement","className","styles","type","autoComplete","placeholder","value","name","PhotoCard","_ref$photo","photo","webformatURL","largeImageURL","likes","views","comments","downloads","openModal","src","alt","onClick","Modal","state","modalWindowRef","createRef","imgRef","handleBackdropClick","e","onClose","_this","props","current","contains","target","handleWindowKeyPress","code","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","this","overlay","handleBackDropClick","onKeyPress","ref","modal","Component","Gallery","isModalOpen","handleCloseModal","setState","handleOpenModal","_this2","_this$state","_this$props","searchResults","onLoadMore","totalPages","pageNumber","wordForSearch","length","map","image_finder_PhotoCard_PhotoCard","key","id","Modal_Modal","defaultProps","ErrorNotification","text","get","keyWord","query","concat","axios","then","data","propTypes","PropTypes","string","selectedCategory","INITIAL_STATE","inputWord","error","isLoading","ImageFinder","endOfPage","handleChange","handleSubmit","preventDefault","lastWordForSearch","prevState","Object","objectSpread","api","Math","ceil","totalHits","toConsumableArray","hits","catch","finally","handleLoadMore","_this$state2","scrollIntoView","block","behavior","_this$state3","image_finder_SearchForm_SearchForm","image_finder_ErrorNotification_ErrorNotification","message","Gallery_Gallery","App","ImageFinder_ImageFinder","ReactDOM","render","Components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.b4991802.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2fHk2\",\"button\":\"Gallery_button__3NVJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__1ClvC\",\"stats\":\"PhotoCard_stats__dn9Dx\",\"statsItem\":\"PhotoCard_statsItem__gIBjC\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__gcgby\",\"galleryItem\":\"PhotoCard_galleryItem__1x5Z2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__wYgEs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"ImageFinder_app__1TYU2\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ search, onChange, onSubmit }) => {\n  return (\n    <form className={styles.searchForm} onSubmit={onSubmit}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n        value={search}\n        onChange={onChange}\n        name=\"inputWord\"\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  search: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  photo: { webformatURL, largeImageURL, likes, views, comments, downloads },\n  openModal,\n}) => {\n  return (\n    <div className={styles.photoCard}>\n      <img src={webformatURL} alt=\"\" />\n\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          1108{likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          320321{views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          129{comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          176019{downloads}\n        </p>\n      </div>\n\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        onClick={() => openModal(largeImageURL)}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nPhotoCard.propTypes = {\n  photo: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n  }).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  modalWindowRef = createRef();\n\n  imgRef = createRef();\n\n  handleBackdropClick = e => {\n    const { onClose } = this.props;\n    if (this.imgRef.current.contains(e.target)) return;\n    if (this.modalWindowRef.current.contains(e.target)) {\n      onClose();\n    }\n  };\n\n  handleWindowKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  componentDidMount = () => {\n    window.addEventListener('click', this.handleBackdropClick);\n    window.addEventListener('keydown', this.handleWindowKeyPress);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('click', this.handleBackdropClick);\n    window.removeEventListener('keyPress', this.handleWindowKeyPress);\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleBackDropClick}\n        onKeyPress={this.handleBackDropClick}\n        ref={this.modalWindowRef}\n      >\n        <div className={styles.modal}>\n          <img\n            src={largeImageURL}\n            alt=\"\"\n            className={styles.modal}\n            ref={this.imgRef}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport Modal from '../Modal/Modal';\n\nimport styles from './Gallery.module.css';\n\nexport default class Gallery extends Component {\n  state = { isModalOpen: false, largeImageURL: '' };\n\n  handleCloseModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  handleOpenModal = largeImageURL => {\n    this.setState({ isModalOpen: true, largeImageURL });\n  };\n\n  render() {\n    const { isModalOpen, largeImageURL } = this.state;\n    const {\n      searchResults,\n      onLoadMore,\n      totalPages,\n      pageNumber,\n      wordForSearch,\n    } = this.props;\n    return (\n      <div>\n        <ul className={styles.gallery}>\n          {searchResults.length\n            ? searchResults.map(photo => (\n                <PhotoCard\n                  key={photo.id}\n                  photo={photo}\n                  openModal={this.handleOpenModal}\n                  isModalOpen={isModalOpen}\n                />\n              ))\n            : wordForSearch && <h2>No matching results</h2>}\n        </ul>\n\n        {searchResults.length && pageNumber < totalPages ? (\n          <button type=\"button\" onClick={onLoadMore} className={styles.button}>\n            Load more\n          </button>\n        ) : null}\n        {isModalOpen && (\n          <Modal\n            onClose={this.handleCloseModal}\n            largeImageURL={largeImageURL}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nGallery.propTypes = {\n  searchResults: PropTypes.arrayOf(Object),\n  onLoadMore: PropTypes.func.isRequired,\n  totalPages: PropTypes.number.isRequired,\n  pageNumber: PropTypes.number.isRequired,\n  wordForSearch: PropTypes.string.isRequired,\n};\n\nGallery.defaultProps = {\n  searchResults: [],\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => {\n  return (\n    <div>\n      <h2>Error: {text}</h2>\n    </div>\n  );\n};\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst PATH =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\n\nconst API_KEY = '12823560-a45133ed02e1239de959cde23';\n\nexport const get = (keyWord, pageNumber) => {\n  const query = `${PATH}${keyWord}&page=${pageNumber}&per_page=12&key=${API_KEY}`;\n  return axios.get(query).then(({ data }) => {\n    return data;\n  });\n};\n\nget.propTypes = {\n  keyWord: PropTypes.string,\n  selectedCategory: PropTypes.string,\n};\nexport default get;\n","import React, { Component, createRef } from 'react';\n\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport ErrorNotification from '../ErrorNotification/ErrorNotification';\n// import Spinner from '../Spinner/Spinner';\n\nimport * as api from '../../../Services/apiImages';\n\nimport styles from './ImageFinder.module.css';\n\nconst INITIAL_STATE = {\n  wordForSearch: '',\n  inputWord: '',\n  pageNumber: 1,\n  totalPages: 1,\n  error: null,\n  searchResults: [],\n  isLoading: false,\n};\n\nexport default class ImageFinder extends Component {\n  state = {\n    ...INITIAL_STATE,\n  };\n\n  endOfPage = createRef();\n\n  componentDidMount() {\n    const { wordForSearch, pageNumber } = this.state;\n    api\n      .get(wordForSearch, pageNumber)\n      .then(data => {\n        return this.setState(prevState => {\n          const totalPages = Math.ceil(data.totalHits / 12);\n          return {\n            searchResults: [...prevState.searchResults, ...data.hits],\n            totalPages,\n          };\n        });\n      })\n      .catch(error => this.setState({ error, searchResults: [] }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        this.endOfPage.current.scrollIntoView({\n          block: 'end',\n          behavior: 'smooth',\n        });\n      });\n  }\n\n  componentDidUpdate() {\n    // this.endOfPage.current.scrollIntoView({ block: 'end', behavior: 'smooth' });\n  }\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({\n      inputWord: value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputWord } = this.state;\n    const lastWordForSearch = inputWord;\n    this.setState(\n      prevState => {\n        let ifNewWord = false;\n        if (prevState.wordForSearch === '') {\n          ifNewWord = true;\n        }\n        if (prevState.wordForSearch !== inputWord) {\n          ifNewWord = true;\n        } else {\n          ifNewWord = false;\n        }\n\n        if (ifNewWord) {\n          return {\n            ...INITIAL_STATE,\n            isLoading: true,\n            error: null,\n            wordForSearch: lastWordForSearch,\n            inputWord: lastWordForSearch,\n          };\n        }\n        return {\n          isLoading: true,\n          pageNumber: prevState.pageNumber + 1,\n          error: null,\n          wordForSearch: lastWordForSearch,\n        };\n      },\n      () => {\n        api\n          .get(inputWord, this.state.pageNumber)\n          .then(data => {\n            const totalPages = Math.ceil(data.totalHits / 12);\n\n            return this.setState(prevState => {\n              return {\n                searchResults: [...prevState.searchResults, ...data.hits],\n                totalPages,\n                pageNumber:\n                  prevState.pageNumber + 1 >= totalPages\n                    ? totalPages\n                    : prevState.pageNumber + 1,\n              };\n            });\n          })\n          .catch(error => this.setState({ error, searchResults: [] }))\n          .finally(() => this.setState({ isLoading: false }));\n      },\n    );\n  };\n\n  handleLoadMore = e => {\n    e.preventDefault();\n    const { wordForSearch, totalPages } = this.state;\n    this.setState(\n      prevState => {\n        return {\n          isLoading: true,\n          error: null,\n          pageNumber:\n            prevState.pageNumber + 1 >= totalPages\n              ? totalPages\n              : prevState.pageNumber + 1,\n        };\n      },\n      () => {\n        api\n          .get(wordForSearch, this.state.pageNumber)\n          .then(data => {\n            return this.setState(prevState => {\n              return {\n                searchResults: [...prevState.searchResults, ...data.hits],\n              };\n            });\n          })\n          .catch(error => this.setState({ error, searchResults: [] }))\n          .finally(() => {\n            this.setState({ isLoading: false });\n          });\n      },\n    );\n  };\n\n  render() {\n    const {\n      inputWord,\n      searchResults,\n      isLoading,\n      error,\n      totalPages,\n      pageNumber,\n      wordForSearch,\n    } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          search={inputWord}\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        />\n        {error && <ErrorNotification text={error.message} />}\n        <Gallery\n          searchResults={searchResults}\n          isLoading={isLoading}\n          onLoadMore={this.handleLoadMore}\n          totalPages={totalPages}\n          pageNumber={pageNumber}\n          inputWord={inputWord}\n          wordForSearch={wordForSearch}\n        />\n        <div ref={this.endOfPage}></div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ImageFinder from '../image-finder/ImageFinder/ImageFinder';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <div>\n      <ImageFinder />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2yL7P\",\"modal\":\"Modal_modal__3Rfl7\"};"],"sourceRoot":""}